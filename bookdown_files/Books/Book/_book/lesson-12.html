<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>10 第十二讲：从分析到手稿 | R语言在心理学研究中的应用: 从原始数据到可重复的论文手稿(V2)</title>
  <meta name="description" content="课程bookdown" />
  <meta name="generator" content="bookdown 0.36 and GitBook 2.6.7" />

  <meta property="og:title" content="10 第十二讲：从分析到手稿 | R语言在心理学研究中的应用: 从原始数据到可重复的论文手稿(V2)" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="课程bookdown" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="10 第十二讲：从分析到手稿 | R语言在心理学研究中的应用: 从原始数据到可重复的论文手稿(V2)" />
  
  <meta name="twitter:description" content="课程bookdown" />
  

<meta name="author" content="胡传鹏" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="lesson-9.html"/>
<link rel="next" href="lesson-13.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.30/datatables.js"></script>
<link href="libs/dt-core-1.13.4/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.13.4/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.13.4/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  jax: ["input/TeX","output/SVG"],
  extensions: ["tex2jax.js","MathMenu.js","MathZoom.js"],
  TeX: {
    extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
  }
});
</script>
<script type="text/javascript"
   src="../../../MathJax/MathJax.js">
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> 教学内容与课时</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#目录"><i class="fa fa-check"></i><b>1.1</b> 目录</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="lesson-1.html"><a href="lesson-1.html"><i class="fa fa-check"></i><b>2</b> 第一讲：为什么要学习R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="lesson-1.html"><a href="lesson-1.html#r在心理科学及社会科学中的运用"><i class="fa fa-check"></i><b>2.1</b> R在心理科学及社会科学中的运用</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="lesson-1.html"><a href="lesson-1.html#id_1-data-science"><i class="fa fa-check"></i><b>2.1.1</b> 数据科学</a></li>
<li class="chapter" data-level="2.1.2" data-path="lesson-1.html"><a href="lesson-1.html#id_1-data-science-born"><i class="fa fa-check"></i><b>2.1.2</b> 数据科学的诞生——数字化时代</a></li>
<li class="chapter" data-level="2.1.3" data-path="lesson-1.html"><a href="lesson-1.html#为什么要学习r语言1-why-learn-r"><i class="fa fa-check"></i><b>2.1.3</b> 为什么要学习R语言？{1-why-learn-R}</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="lesson-1.html"><a href="lesson-1.html#r语言使用的示例展示"><i class="fa fa-check"></i><b>2.2</b> R语言使用的示例展示</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="lesson-1.html"><a href="lesson-1.html#数据清洗"><i class="fa fa-check"></i><b>2.2.1</b> 数据清洗</a></li>
<li class="chapter" data-level="2.2.2" data-path="lesson-1.html"><a href="lesson-1.html#ggplot2画图"><i class="fa fa-check"></i><b>2.2.2</b> ggplot2画图</a></li>
<li class="chapter" data-level="2.2.3" data-path="lesson-1.html"><a href="lesson-1.html#心理学数据分析与结果汇报"><i class="fa fa-check"></i><b>2.2.3</b> 心理学数据分析与结果汇报</a></li>
<li class="chapter" data-level="2.2.4" data-path="lesson-1.html"><a href="lesson-1.html#regression"><i class="fa fa-check"></i><b>2.2.4</b> Regression</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="lesson-1.html"><a href="lesson-1.html#现场运行代码"><i class="fa fa-check"></i><b>2.3</b> 现场运行代码</a></li>
<li class="chapter" data-level="2.4" data-path="lesson-1.html"><a href="lesson-1.html#课程安排"><i class="fa fa-check"></i><b>2.4</b> 课程安排</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="lesson-1.html"><a href="lesson-1.html#课程大纲"><i class="fa fa-check"></i><b>2.4.1</b> 课程大纲</a></li>
<li class="chapter" data-level="2.4.2" data-path="lesson-1.html"><a href="lesson-1.html#成绩分配"><i class="fa fa-check"></i><b>2.4.2</b> 成绩分配</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="lesson-1.html"><a href="lesson-1.html#如何学好这门课"><i class="fa fa-check"></i><b>2.5</b> 如何学好这门课</a></li>
<li class="chapter" data-level="2.6" data-path="lesson-1.html"><a href="lesson-1.html#课程总结与期望"><i class="fa fa-check"></i><b>2.6</b> 课程总结与期望</a></li>
<li class="chapter" data-level="2.7" data-path="lesson-1.html"><a href="lesson-1.html#推荐"><i class="fa fa-check"></i><b>2.7</b> 推荐</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="lesson-2.html"><a href="lesson-2.html"><i class="fa fa-check"></i><b>3</b> 第二讲：如何开始使用R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="lesson-2.html"><a href="lesson-2.html#id_2-data-for-lesson"><i class="fa fa-check"></i><b>3.1</b> 要解决的数据分析问题简介</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="lesson-2.html"><a href="lesson-2.html#id_2-data-1"><i class="fa fa-check"></i><b>3.1.1</b> 第一个数据: 人类企鹅计划数据</a></li>
<li class="chapter" data-level="3.1.2" data-path="lesson-2.html"><a href="lesson-2.html#id_2-data-2"><i class="fa fa-check"></i><b>3.1.2</b> 第二个数据: 知觉匹配任务数据</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="lesson-2.html"><a href="lesson-2.html#id_2-install-R"><i class="fa fa-check"></i><b>3.2</b> 如何安装</a></li>
<li class="chapter" data-level="3.3" data-path="lesson-2.html"><a href="lesson-2.html#id_2-Rstudio"><i class="fa fa-check"></i><b>3.3</b> 如何方便使用？Rstudio的安装与界面介绍</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="lesson-2.html"><a href="lesson-2.html#id_2-Rstudio-install"><i class="fa fa-check"></i><b>3.3.1</b> Rstudio的安装与界面介绍</a></li>
<li class="chapter" data-level="3.3.2" data-path="lesson-2.html"><a href="lesson-2.html#id_2-Rstudio-test"><i class="fa fa-check"></i><b>3.3.2</b> 测试Rstudio</a></li>
<li class="chapter" data-level="3.3.3" data-path="lesson-2.html"><a href="lesson-2.html#id_2-packges"><i class="fa fa-check"></i><b>3.3.3</b> R语言中的包</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="lesson-3.html"><a href="lesson-3.html"><i class="fa fa-check"></i><b>4</b> 第三讲：如何导入数据</a>
<ul>
<li class="chapter" data-level="4.1" data-path="lesson-3.html"><a href="lesson-3.html#id_3-path-working-dir"><i class="fa fa-check"></i><b>4.1</b> 路径与工作目录</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="lesson-3.html"><a href="lesson-3.html#id_3-path"><i class="fa fa-check"></i><b>4.1.1</b> 相对路径与绝对路径</a></li>
<li class="chapter" data-level="4.1.2" data-path="lesson-3.html"><a href="lesson-3.html#id_3-packge-here"><i class="fa fa-check"></i><b>4.1.2</b> Here包的使用</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="lesson-3.html"><a href="lesson-3.html#windows系统中的地址栏和r中的地址栏斜线方向不同如果直接复制windows地址栏的地址作为绝对路径可能会出现错误为了避免手动拼接路径出错"><i class="fa fa-check"></i><b>4.2</b> Windows系统中的地址栏和R中的地址栏斜线方向不同。如果直接复制Windows地址栏的地址作为绝对路径，可能会出现错误。为了避免手动拼接路径出错。</a></li>
<li class="chapter" data-level="4.3" data-path="lesson-3.html"><a href="lesson-3.html#id_3-read-data"><i class="fa fa-check"></i><b>4.3</b> 读取数据</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="lesson-3.html"><a href="lesson-3.html#id_3-read-csv"><i class="fa fa-check"></i><b>4.3.1</b> read.csv函数</a></li>
<li class="chapter" data-level="4.3.2" data-path="lesson-3.html"><a href="lesson-3.html#命名"><i class="fa fa-check"></i><b>4.3.2</b> 命名</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="lesson-3.html"><a href="lesson-3.html#id_3-data-object"><i class="fa fa-check"></i><b>4.4</b> 了解R里的数据 （R语言中的对象）</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="lesson-4.html"><a href="lesson-4.html"><i class="fa fa-check"></i><b>5</b> 第四讲 &amp; 第五讲 ：数据导入 – 数据类型与结构</a>
<ul>
<li class="chapter" data-level="5.1" data-path="lesson-4.html"><a href="lesson-4.html#加载数据"><i class="fa fa-check"></i><b>5.1</b> 加载数据</a></li>
<li class="chapter" data-level="5.2" data-path="lesson-4.html"><a href="lesson-4.html#数据导入"><i class="fa fa-check"></i><b>5.2</b> 数据导入</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="lesson-4.html"><a href="lesson-4.html#数据的地址路径"><i class="fa fa-check"></i><b>5.2.1</b> 数据的“地址”——路径</a></li>
<li class="chapter" data-level="5.2.2" data-path="lesson-4.html"><a href="lesson-4.html#绝对路径与相对路径"><i class="fa fa-check"></i><b>5.2.2</b> 绝对路径与相对路径</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="lesson-4.html"><a href="lesson-4.html#读取数据"><i class="fa fa-check"></i><b>5.3</b> 读取数据</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="lesson-4.html"><a href="lesson-4.html#手动导入"><i class="fa fa-check"></i><b>5.3.1</b> 手动导入</a></li>
<li class="chapter" data-level="5.3.2" data-path="lesson-4.html"><a href="lesson-4.html#代码导入"><i class="fa fa-check"></i><b>5.3.2</b> 代码导入</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="lesson-4.html"><a href="lesson-4.html#赋值"><i class="fa fa-check"></i><b>5.4</b> 赋值</a></li>
<li class="chapter" data-level="5.5" data-path="lesson-4.html"><a href="lesson-4.html#数据类型"><i class="fa fa-check"></i><b>5.5</b> 数据类型</a></li>
<li class="chapter" data-level="5.6" data-path="lesson-4.html"><a href="lesson-4.html#数据结构"><i class="fa fa-check"></i><b>5.6</b> 数据结构</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="lesson-4.html"><a href="lesson-4.html#向量vector"><i class="fa fa-check"></i><b>5.6.1</b> 向量(vector)</a></li>
<li class="chapter" data-level="5.6.2" data-path="lesson-4.html"><a href="lesson-4.html#数据框"><i class="fa fa-check"></i><b>5.6.2</b> 数据框</a></li>
<li class="chapter" data-level="5.6.3" data-path="lesson-4.html"><a href="lesson-4.html#矩阵与数组"><i class="fa fa-check"></i><b>5.6.3</b> 矩阵与数组</a></li>
<li class="chapter" data-level="5.6.4" data-path="lesson-4.html"><a href="lesson-4.html#列表"><i class="fa fa-check"></i><b>5.6.4</b> 列表</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="lesson-4.html"><a href="lesson-4.html#函数"><i class="fa fa-check"></i><b>5.7</b> 函数</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="lesson-4.html"><a href="lesson-4.html#函数的调用"><i class="fa fa-check"></i><b>5.7.1</b> 函数的调用</a></li>
<li class="chapter" data-level="5.7.2" data-path="lesson-4.html"><a href="lesson-4.html#自定义函数"><i class="fa fa-check"></i><b>5.7.2</b> 自定义函数</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="lesson-4.html"><a href="lesson-4.html#if-条件语句"><i class="fa fa-check"></i><b>5.8</b> if 条件语句</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="lesson-6.html"><a href="lesson-6.html"><i class="fa fa-check"></i><b>6</b> 第六讲：如何探索数据: 描述性统计与数据可视化基础</a>
<ul>
<li class="chapter" data-level="6.1" data-path="lesson-6.html"><a href="lesson-6.html#描述性统计"><i class="fa fa-check"></i><b>6.1</b> <strong>描述性统计</strong></a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="lesson-6.html"><a href="lesson-6.html#part1-探索性数据分析"><i class="fa fa-check"></i><b>6.1.1</b> <strong>Part1-探索性数据分析</strong></a></li>
<li class="chapter" data-level="6.1.2" data-path="lesson-6.html"><a href="lesson-6.html#part2-数据可视化-ggplot2的基本使用"><i class="fa fa-check"></i><b>6.1.2</b> <strong>Part2-数据可视化-ggplot2的基本使用</strong></a></li>
<li class="chapter" data-level="6.1.3" data-path="lesson-6.html"><a href="lesson-6.html#part3-data-explorer"><i class="fa fa-check"></i><b>6.1.3</b> <strong>Part3-Data Explorer</strong></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="lesson-7.html"><a href="lesson-7.html"><i class="fa fa-check"></i><b>7</b> 第七讲：如何进行基本的数据分析: <em>t</em>-test和ANOVA</a>
<ul>
<li class="chapter" data-level="7.0.1" data-path="lesson-7.html"><a href="lesson-7.html#t检验"><i class="fa fa-check"></i><b>7.0.1</b> <em>t</em>检验</a></li>
<li class="chapter" data-level="7.0.2" data-path="lesson-7.html"><a href="lesson-7.html#方差分析"><i class="fa fa-check"></i><b>7.0.2</b> 方差分析</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="lesson-8.html"><a href="lesson-8.html"><i class="fa fa-check"></i><b>8</b> 第八讲：如何进行基本的数据分析: 相关与回归</a>
<ul>
<li class="chapter" data-level="8.1" data-path="lesson-8.html"><a href="lesson-8.html#什么是相关"><i class="fa fa-check"></i><b>8.1</b> 什么是相关</a></li>
<li class="chapter" data-level="8.2" data-path="lesson-8.html"><a href="lesson-8.html#相关-代码实现"><i class="fa fa-check"></i><b>8.2</b> 相关-代码实现</a></li>
<li class="chapter" data-level="8.3" data-path="lesson-8.html"><a href="lesson-8.html#什么是回归"><i class="fa fa-check"></i><b>8.3</b> 什么是回归</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="lesson-9.html"><a href="lesson-9.html"><i class="fa fa-check"></i><b>9</b> 第九章：如何进行基本的数据分析: 中介分析</a>
<ul>
<li class="chapter" data-level="9.1" data-path="lesson-9.html"><a href="lesson-9.html#process"><i class="fa fa-check"></i><b>9.1</b> process</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="lesson-12.html"><a href="lesson-12.html"><i class="fa fa-check"></i><b>10</b> 第十二讲：从分析到手稿</a>
<ul>
<li class="chapter" data-level="10.1" data-path="lesson-12.html"><a href="lesson-12.html#通过papaja撰写论文"><i class="fa fa-check"></i><b>10.1</b> <strong>通过Papaja撰写论文</strong></a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="lesson-12.html"><a href="lesson-12.html#part1-papaja包的安装"><i class="fa fa-check"></i><b>10.1.1</b> <strong>Part1: Papaja包的安装</strong></a></li>
<li class="chapter" data-level="10.1.2" data-path="lesson-12.html"><a href="lesson-12.html#part2-papaja语法格式"><i class="fa fa-check"></i><b>10.1.2</b> <strong>Part2: Papaja语法格式</strong></a></li>
<li class="chapter" data-level="10.1.3" data-path="lesson-12.html"><a href="lesson-12.html#part3-正文的撰写"><i class="fa fa-check"></i><b>10.1.3</b> <strong>Part3: 正文的撰写</strong></a></li>
<li class="chapter" data-level="10.1.4" data-path="lesson-12.html"><a href="lesson-12.html#总结"><i class="fa fa-check"></i><b>10.1.4</b> 总结</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="lesson-13.html"><a href="lesson-13.html"><i class="fa fa-check"></i><b>11</b> 第十三章：效应量和元分析</a>
<ul>
<li class="chapter" data-level="11.1" data-path="lesson-13.html"><a href="lesson-13.html#效应量简介"><i class="fa fa-check"></i><b>11.1</b> 效应量简介</a></li>
<li class="chapter" data-level="11.2" data-path="lesson-13.html"><a href="lesson-13.html#算法实现"><i class="fa fa-check"></i><b>11.2</b> 算法实现</a></li>
<li class="chapter" data-level="11.3" data-path="lesson-13.html"><a href="lesson-13.html#小练习"><i class="fa fa-check"></i><b>11.3</b> 小练习</a></li>
<li class="chapter" data-level="11.4" data-path="lesson-13.html"><a href="lesson-13.html#元分析简介"><i class="fa fa-check"></i><b>11.4</b> 元分析简介</a></li>
<li class="chapter" data-level="11.5" data-path="lesson-13.html"><a href="lesson-13.html#元分析实现"><i class="fa fa-check"></i><b>11.5</b> 元分析实现</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R语言在心理学研究中的应用: 从原始数据到可重复的论文手稿(V2)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="lesson-12" class="section level1 hasAnchor" number="10">
<h1><span class="header-section-number">10</span> 第十二讲：从分析到手稿<a href="lesson-12.html#lesson-12" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="通过papaja撰写论文" class="section level2 hasAnchor" number="10.1">
<h2><span class="header-section-number">10.1</span> <strong>通过Papaja撰写论文</strong><a href="lesson-12.html#通过papaja撰写论文" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>经过之前的学习，同学们熟悉了<code>Rmarkdown</code>格式的书写和使用，并了解其保存形式为.rmd文件。<code>Rmarkdown</code>文件包含文字、代码以及对代码的编译，能够方便地记录丰富的内容，并且可以输出为html等多种格式。于是，就有人想到一站式的解决方案：直接将<code>Rmarkdown</code>输出为pdf文档或word文档，并通过在<code>Rmarkdown</code>文件中的代码对文字图片进行排版以符合出版要求。本节课即将讲到的<em>Papaja</em>包适用于心理学手稿的准备，符合APA第6版的版式标准。</p>
<div id="part1-papaja包的安装" class="section level3 hasAnchor" number="10.1.1">
<h3><span class="header-section-number">10.1.1</span> <strong>Part1: Papaja包的安装</strong><a href="lesson-12.html#part1-papaja包的安装" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>我们为本堂课准备了一个<a href="https://github.com/hcp4715/R4Psy/blob/main/chapter_12.Rmd">.rmd文件</a>，如果<code>papaja</code>包安装成功后，打开该文件并点击<strong>knit</strong>按钮，在相同工作目录下将生成一个与.rmd相同文件名的pdf文件，该文件即为APA论文格式的例子。</p>
<p>注意的是，在安装<code>papaja</code>时可能会存在的几个问题：
（1）安装速度过慢。
解决方法：开启*梯*子*下载。
（2）knit过程中提示需要更新包，点击确认后仍存在相同提示。
解决方法：手动更新该R包，例如找到该包卸载后重新下载等。
（3）有些包需要安装在用户名下的某个文件夹，出现中文目录。
解决方法：将Windows用户名改成英文。</p>
<p>安装完成后我们进入<code>papaja</code>语法的学习。</p>
</div>
<div id="part2-papaja语法格式" class="section level3 hasAnchor" number="10.1.2">
<h3><span class="header-section-number">10.1.2</span> <strong>Part2: Papaja语法格式</strong><a href="lesson-12.html#part2-papaja语法格式" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>（1）YAML头文件
在所有RMarkdown文件中的头部都会有一个YAML头模块，利用—分隔开，包含标题、作者、摘要等各种信息，同时该部分支持markdown语法进行编写。
在<code>papaja</code>的模板中，通讯作者默认数量为一个。<strong>affiliation</strong>在作者栏中编号，在下方统一存放。<strong>authornote</strong>为APA格式风格内容，用于展示该论文之前的故事（如参与哪些报告、是否为毕业论文等）。</p>
<p>关于参考文献，本例包含了两个.bib文件，<strong>chapter_12-r-references.bib</strong>与<strong>chapter_12-citation.bib</strong>，可以从文献管理软件中导出，<code>papaja</code>将在你引用参考文献时自动从这些文件中查找并使用。</p>
<p><strong>linenumbers</strong>属性是一个较为常用的属性，能够为文献提供行标，方便审稿人指出需要修改的位置。</p>
<pre><code>---
title             : &quot;Lecture 12: Preparing journal artical with *papaja*&quot;
shorttitle        : &quot;papaja&quot;

author: 
  - name          : &quot;Hu Chuan-Peng&quot;
    affiliation   : &quot;1&quot;
    corresponding : yes    # Define only one corresponding author
    address       : &quot;#122 Ninghai Rd, Gulou District, Nanjing&quot;
    email         : &quot;hcp4715@hotmail.com&quot;
    role:         # Contributorship roles (e.g., CRediT, https://casrai.org/credit/)
      - &quot;Conceptualization&quot;
      - &quot;Writing - Original Draft Preparation&quot;
      - &quot;Supervision&quot;
  - name          : &quot;All Students&quot;
    affiliation   : &quot;1,2&quot;
    role:
      - &quot;Writing - Original Draft Preparation&quot;
      - &quot;Writing - Review &amp; Editing&quot;

affiliation:
  - id            : &quot;1&quot;
    institution   : &quot;Nanjing Normal Unviersity&quot;
  - id            : &quot;2&quot;
    institution   : &quot;Collaborators&#39; Affiliations&quot;

authornote: |
  Add complete departmental affiliations for each author here. Each new line herein must be indented, like this line.

  Author Note: This is for demonstration only.

abstract: |
  Psychological science has encountered a serious replication crisis. 
  
  To make self-correction of the field, researchers actively reform the current practices and increase the opennes, transparency, and reproducibility of studies in the field. Using R language for data analyses is recommended by many. With increasingly emphases on computational reproduciblity, *papaja* was developed to combine data analysis and manuscript preparation.
  
  The current chapter aims to demonstrate how to use *papaja*. 
  
  We will introduce the package and key elements of the it.
  
  After the lecture, we expected students able to create an example APA manuscript using open data or examplary data we had provided at the beginning of the class.
  
  This demo and practice will further enhance the student&#39;s experience in computational reproducibility.
  
  By spreading the ideas of reproducbility and teaching papaja, this class will increase the computational reprodcubility.
  
  &lt;!-- https://tinyurl.com/ybremelq --&gt;
  
keywords          : &quot;Reproducibility, R, Teaching, Demonstration&quot;
wordcount         : &quot;X&quot;

bibliography      : 
  - &quot;chapter_12-r-references.bib&quot;
  - &quot;chapter_12-citation.bib&quot;

floatsintext      : no
linenumbers       : yes
draft             : no
mask              : no

figurelist        : no
tablelist         : no
footnotelist      : no

classoption       : &quot;man&quot;
output            : papaja::apa6_pdf
---
</code></pre>
<p>（2）包和文件的调用:
在定义YAML头文件之后，需要进行检查是否该文件已经调用了需要使用的包，以及是否包含了需要的文件（例如.bib格式文件）。
（3）参考文献的引用方式
如例子中<strong><span class="citation">(<a href="#ref-R-papaja"><strong>R-papaja?</strong></a>)</span></strong>，这是Papaja的引用格式，包含中括号[]、<span class="citation">(<a href="#ref-符号以及参考文献标识"><strong>符号以及参考文献标识?</strong></a>)</span>。<a href="mailto:参考文献标识为.bib文件中@后面的内容" class="email">参考文献标识为.bib文件中@后面的内容</a>。这种标识转换后为APA标准引用，以括号的形式引用文献。</p>
<p><img src="1012-lesson12/bib1.png" />
还有我们通常使用的另一种引用，即在句子中直接引用文章作者，此时只需要略去大括号即可，<a href="mailto:如@Hu" class="email">如@Hu</a>_2020
<img src="1012-lesson12/bib2.png" /></p>
</div>
<div id="part3-正文的撰写" class="section level3 hasAnchor" number="10.1.3">
<h3><span class="header-section-number">10.1.3</span> <strong>Part3: 正文的撰写</strong><a href="lesson-12.html#part3-正文的撰写" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>了解并添加了YAML头文件和参考文献后，就开始撰写正文。</p>
<p>（1）数据的处理：
在markdown中创建chunks来存放数据处理代码
推荐命令，用于清理环境变量</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="lesson-12.html#cb233-1" tabindex="-1"></a><span class="co"># empty the global env</span></span>
<span id="cb233-2"><a href="lesson-12.html#cb233-2" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb233-3"><a href="lesson-12.html#cb233-3" tabindex="-1"></a>df.m.basic <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&#39;./1012-lesson12/data.csv&#39;</span>,</span>
<span id="cb233-4"><a href="lesson-12.html#cb233-4" tabindex="-1"></a>                       <span class="at">header =</span> T, <span class="at">sep=</span><span class="st">&quot;,&quot;</span>, <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p>数据处理结束后，在撰写文章时就可以通过**`<code>**来引用数据，例如，** \</code> r df.m.basic<span class="math inline">\(Age_mean \` **就会索引df.m.basic中的Age：
引用公式的方式也非常方便，在两个\$中间键入符号即公式就可，如输入`\)</span><code>\pm</code><span class="math inline">\(`就会得到\)</span>$。
引用R包：通过如下语句` r cite_r(“chapter_12-r-references.bib”, pkgs = c(“afex”, “emmeans”, “ggplot2”, “dplyr”, “tidyr”, “patchwork”, “r-base”), withhold=FALSE) ` 即可引用，withhold=FALSE表示选中的包为白名单。上文中的七个包为最经常使用的包，可根据数据的分析代码进行修改引用。</p>
<p>(2)斜体书写：在绘图中将图题部分设置斜体，可用如下代码：</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="lesson-12.html#cb234-1" tabindex="-1"></a>title <span class="ot">&lt;-</span> <span class="fu">expression</span>(<span class="fu">paste</span>(<span class="st">&quot;Senesitivity (&quot;</span>, <span class="fu">italic</span>(<span class="st">&quot;d&#39;&quot;</span>), <span class="st">&quot;)&quot;</span>))</span></code></pre></div>
<p>此时将输出Sensitivity(<em>d</em>)。</p>
<p>(3)拼图操作：将画好的多图进行拼接，可以使用<strong>patchwork</strong>包</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="lesson-12.html#cb235-1" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb235-2"><a href="lesson-12.html#cb235-2" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;./1012-lesson12/p1_rt.rdata&quot;</span>)</span>
<span id="cb235-3"><a href="lesson-12.html#cb235-3" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;./1012-lesson12/p1_dp.rdata&quot;</span>)</span>
<span id="cb235-4"><a href="lesson-12.html#cb235-4" tabindex="-1"></a>p1_dp <span class="sc">+</span> p1_rt <span class="sc">+</span> <span class="fu">plot_annotation</span>(<span class="at">tag_levels =</span> <span class="st">&#39;A&#39;</span>)  <span class="sc">+</span> <span class="fu">plot_layout</span>(<span class="at">nrow =</span> <span class="dv">1</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>, <span class="at">guides =</span> <span class="st">&#39;collect&#39;</span>)</span>
<span id="cb235-5"><a href="lesson-12.html#cb235-5" tabindex="-1"></a></span>
<span id="cb235-6"><a href="lesson-12.html#cb235-6" tabindex="-1"></a><span class="co">#plot_annotation属性：设置图片序号为A，B，C...或1，2，3...</span></span>
<span id="cb235-7"><a href="lesson-12.html#cb235-7" tabindex="-1"></a><span class="co">#plot_layout属性：图片怎么排布；guides——图例是否统一放置</span></span></code></pre></div>
<p><strong>图片引用</strong> 使用如下格式<code>\@</code>ref(fig:plot1) 即可得到<a href="#fig:plot1"><strong>??</strong></a></p>
<ol start="4" style="list-style-type: decimal">
<li>数据分析：
<strong>注意</strong>：<code>bruceR</code>和<code>papaja</code>可能会因为输出导致冲突，在<code>papaja</code>中分析数据建议回归更原始的包，如在进行ANOVA分析时使用<code>afex</code>函数</li>
</ol>
</div>
<div id="总结" class="section level3 hasAnchor" number="10.1.4">
<h3><span class="header-section-number">10.1.4</span> 总结<a href="lesson-12.html#总结" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>papaja</code>的好处是，数据、分析、格式、参考文献等都储存在同一个工作项目中，能够更整齐更方便的撰写文章。</p>
<div id="小作业" class="section level4 hasAnchor" number="10.1.4.1">
<h4><span class="header-section-number">10.1.4.1</span> 小作业<a href="lesson-12.html#小作业" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>请大家fork我们的bookdown文件 <a href="https://github.com/hcp4715/R4PsyBook" class="uri">https://github.com/hcp4715/R4PsyBook</a> 做一个小的更改，并pull request。</p>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="lesson-9.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="lesson-13.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["R4PsyBook.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
