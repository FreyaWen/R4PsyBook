呃今天我们算是正式的开始那个呃
用r来结束我们的数据了
呃我们之前做了很多准备工作
现在呃
我看这两天
大家绝大部分人
都已经把第一次作业提交了
我不知道有没有人还没有提交
呃看大家的完成情况来看的话
绝大部分人还是可以的
呃
可能会在GitHub的登录这个地方
出一点小小的问题
对吧呃但绝大部分都能够解决
然后
呃
大家应该也可以获得最新的这个课件
所以大家上课的时候就认真听就好了
呃所有的代码
都大家可以通过gethave同步
那么既然我们呃要开始接触数据对吧
那么
这个是有可能会大家碰到的
我们在开始之前
呃应该是去年上这门课的时候
有的同学碰到一个问题
就是呃报错有一部分乱码
没办法显示对吧
看不到那么
大家可以把自己的那个
报错的那个语言
设置为英文
这样的话他就不会出现乱码了
也就是说你报错的时候
他有可如果你采用的是系统自自呃
默认的语言的话
有可能是这个呃中文对吧
那么中文输出的时候
他有可能会有一些乱码
无法被识别出来
这是一个小小的问题啊
然后另外呢
我们在整个课程当中
我们都推荐大家用这种方式来去呃
装载自己的这个啊
的这个package
就是用这个packment叫做packagemanager对吧
就是管理的一个包
那么用这个pNODE就packageNODE
它会帮助你去自动安装
那些你没有安装
的包
所以我们现在推荐大家使用这个包
非常方便
那我们的 
既然我们是要开始处理数据对吧
然后我们之前说
实际上呃r作为一个工具
它是帮助我们去解决
数据分析的重要问题
对吧那么我们需要把r整合到
或者说
用r来完成我们整个数据分析的流程
那么数据分析第一个流程
肯定就是获得数据
实际上或者说在一个正常的呃
这个数据分析的流程当中
第一步应该是获得数据
那么获得数据的话
在不同的情境之下
他其实是有着不同的途径的
对于我们心理学的同学来说
绝大部分人获得数据的方式
是自己收集数据
对吧
就自己做实验发问卷去收集数据
那么然后把这些数据通过问卷
呃平台或者实验的这个数数
数据收集的这个工具对吧
把这个数据收集到
那么在其他的情形之下的话
可能不是这样的
有可能大家以后
比方说毕业之后
可能会去其他地方工作的
那么这个时候你碰到的数据
有可能不是说你通过实验来收集
有可能你需要通过网络的其他的方式
来收集或者别人给你
教给你的一些杂乱无章的这个数据
所以在这个数
就是说你拿到数据之前
可能你还有些额外的步骤
比方说你可以通过这种网络爬出去
爬取一些数据
对吧
这是一种可能的这个数据获得的方式
那么我们现在
假定大家手头上已经有一点数据了
然后呢大家拿到数据之后
怎么去导入到
自己数据分析软件里面去
大家都做过本科毕业论文对吧
本科毕业论文的时候
SPS大概是怎么导入的
啊
文件打开是吗
哈哈
我们我们其实也可以试一下
就是在APP里面
我们是不是可以用这种方式
比方说我们现在看到的
就是这个r源的这个astute的界面
对吧
那它这里有一个文件对吧
它有一个importdataset
然后我们也可以
他这里还有很多个选项对吧
比方说从这个Excel
从SPS
从SAS和state不同的软件里面导入
比方说我们假定大家用的是pt
xt对吧
然后我们现在想导入其中的一个数据
那么再比方说我们用这个painting对吧
就是这个人类结合计划的数据
我们实际上是可以做这个操作的对吧
大家可以看到这个时候
因为我们的呃这个数据文件
它是TXT对吧
然后通过呃逗号进行分隔的对吧
大家可以上面看到input啊
然后呢每一行每一列对应的数字
那这个时候他会问你
你这个文件里面
有有没有包含这个头文件
对吧核点就是这个cornername
我们可以认为大家可以看到
点一下和不点他的区别不一样对吧
如果你点一下的话
你点no的话呢
他就会给你加一个V1V2一直到V5对吧
那么你的第一行被当做数据
那第对第一行那
但是你点了这个yes之后
他就会把第一行识别为这个columnname
对吧这个时候
你的第一行就变成了这个呃headings
然后你用逗号进行分割对吧
这里选选择的是
默认的是用逗号进行分割
那这理论上讲
其实你可以就这么import对吧
然后你这个数据就导入进来了
这种情况大家觉得嗯
那我好像不用学学代码了是吧
那我们再看另外一种情况
你还是碰到这个对吧
假如你有你有20个倍数30个倍数的数据
这个实验的对吧
这一个一个点对吗
哈哈
这有好多个
所以我们首先我们可以看到
就点完了之后
他他其实会在这个地方啊
会给我们出一行代码
我们可以按按这个向上的键对吧
他就会告诉我们
这里我们刚才点击操作
实际上是在做什么
那么它自自动的
就让我们其实写了一行代码
对吧就是说呃
以我们这个文件名作为一个变量
然后用注意的CSV
然后呢把它读进来
那么我们这节课的一个主要目的
就是说我们要要去理解这个儿时
这行代码是怎么做的
我们不仅要通过这个鼠标点击对吧
我们要去理解这个命令
然后呢让我们更加熟练的
把它应用在更加广泛的情形之下
比方说我们有很多个这个文件
需要导入的时候
我们应该怎么办对吧
那么我们之前说过
就是我们在整个课程中
会用到两个数据
一个是这个呃
humanpaintingproject数据
另外一个
就是一个认知实验的一个数据
比方说我们刚才显示的对吧
我们刚才呃通过点击操作完
成的就导入这个数据
然后呢查看他这个数据对吧
大家可以看到这里
我们要查看这个数据大致长什么样
对吧
那么我们如何通过代码来完成这个
包括我们能不能尝试去选择一些变量
对吧进行初初步的统计
那么这就是我们在数据分析中
做的第一个问
碰到第一个问题
那么我们这节课就主要解决这个问题
那么要解决这个问题的话
实际上
如果说我们再回到刚才点击操作里面
我们会发现他这个redCSV对吧
这里面会有一个很长很长的一个
一个东西
一串字符对吧那么
这个就涉及到我们
而在读取这个文件的时候
对吧它到底要从哪个地方去找
那么当我们去通过点击的方式
打开的时候
他会跳出一个窗口对吧
然后我们自己可以一层一层的去选
这个文件夹
但是当我们写代码的时候
我们可能自己就要把这个文件夹
或者文件所在的位置
把它找出来
并且写代用代码的方式写出来对吧
那就是涉及到很重要的一个概念
就是说这个数据他所在的一个路径
或者说如果用
如果说我们把这个数据
当做是一个某一个个体的话
对吧在你的电脑里面
他的一个住址address对吧
它它在哪
你要让这个r语言从哪个地方去找到
找到它去定位到它
那么如果我们看这个呃
文件夹的结构的话呢
在我们的这个offsite这个
这个文件里面
对吧那么它有一个叫data的一个
文件夹那么在这个data里面
有个叫penguin文件夹对吧
然后这个penguin这个文件夹里面呢
就我们想找到了这个呃CSV文件
那么也就是说
把这个顺序形成一个路径的话
它就基本上可以说是a的
然后一个一个斜线对吧
一个斜杠
然后Penguin
然后Penguin这个这个rotate点CSV
但是呢
跟我们前面看的不一样对吧
我们前面看的好像
我们在r里面看的好像更长一点对吧
为什么会更长一点呢
因为对于这个数据而言
它的完整路径是非常长的
这里呢大家可能会呃在呃
就是如果大家有了了解过
这个不同的操作系统的话
就就可能会知道
这个不同的操作系统
它对文件的挂载对吧
或者说文文件夹的这个组织的方式
是不一样的
那么在Mac这个系统之下呢
它就是所有的都只有一个盘对吧
那么在这个根根目录下面
它有几个文件夹表示
就有一个是users用户对吧
然后在这个users里面呢
有一个
就是以你自己的用户名为文件夹的
一个一个一个文件为文件名的
一个为名字的一个文件夹
那么有点绕
那么在这个文学夹里面
有个document对吧
那么当然就是你
你可能绝大部分
如果你是卖给用户的话
或者是像你有些用户的话
绝大部分所有的默认的东西
都是放在这个用户名下面
这个document下面
或者一个叫home的一个呃
这个这个文件夹下面的
然后呢
你在下面在层层进行组织对吧
我比方说
我们就是把它放在user下面的
自己的文件夹下面
这个这个dockingdocking的这个子文件夹
然后呢
我们自己又起了个名字叫做getup
可能我们想把所有的这个getup下
上面的这些呃
文件夹都放在里面
对吧在这里面呢
就有一个offsite
下面
是我们直接从getup里面克隆下来的
对吧然后在这个里面呢
有我们刚才的那个完整路径
那么这样的话呢
我们完整的
在整个电脑上面的一个完整路径
它实际上是这样的
从我们硬盘的盘幅开始对吧
因为在Mac下面我们只有一个硬盘
我们不分盘对吧
所以在这个盘幅下面
没有没有盘幅就是直接一个目录对吧
然后下面就是你的用户
然后就是用户名字
就是我们刚才说的这个
它就非常长而且非常的复杂对吧
那么这里就会涉及到两个
我们刚才两种展现这个路径的方式
对吧
一种是我们在offsite这个文件夹里面
去看我们的数据所在的一个位置
我们称之为相对路径
它相对什么
它就相对我们当前的这个
我们说我们的这个叫做副文件夹对吧
或叫做叫parent
就是说呃
你所在的这个副就叫副文件夹吧
虽然说可能有点好像说
是不是男性为中心的这种视角
对吧
那我们就暂且用用这个名字
并不代表我们是有歧视啊
就在这个副文件夹下面
然后我们下面有很多子文件
夹对吧就有data
还有什么
比如说homework
那么实际上我们是相对
upforsite这个文件夹
对吧那么绝对的路径
就是说
我们相对它在硬盘当中的一个位置
它前面必须要加一长串
就是把这个我们说这个副文件夹
它在整个硬盘中的相对位置也得加上
这就是我们在
就说这一部分对吧
它所增加的内容
那么这个对于第一次接触这个写代码
接触这个路径的同学来说
可能你需要去练习练习
去找一找
比方说你能不能随便找几个文件夹
在自己电脑当中
对吧你能不能把它的相对
在某一个特定的文件夹的相对路径
找出来或者绝对路径找出来对吧
能不能区分这两者
那这个是在Mac下面的
在Mac下面它会有一个比较好
就是因为它的它只有一个盘
呃
那么如果说我们采用相对路径的话
他其实有一个有一个好处啊
就是他之前的路径都可以忽略不写
对吧然后呢
呃
如果我们把所有东西都放在这里对吧
它就是我们不断在这里面保存文件
然后读取文件的一个文件的话
我们也可以把它称之为工作目录
叫做workingdirectory
那么我们刚才说它在
呃大家如果用英文去搜的话
一般就叫parentfold对吧
就是说你的这个副文件夹
呃在r里面的话
我们可以通过呃
就是说当你点开了这个
打开了rStu的时候对吧
你可能不知道
我现在这个呃
rStu它它工作这
个目录是是什么
那么你可以通过getWD
就是getworkingdirectory这个命令
去查看你当前的这个工作目录是多少
而是是哪个位置
然后呢你也可以通过这个setWD呢
去设置你的呃
相对的一个工作的一个路径
那这是这个这个工作目录
或者叫做这个这个工作叫什么
工作路径吧
但是当
可能这个目录一般使用的人更多呀
那么还有一个办法呢
就是说你可以在这个Lobooption
就是说你的studio里面
它会有一个全局的一个设置对吧
就说你每次打开这个studio的时候
它会自动打开哪一个文件夹
作为你的工作目录
你可以在这里进行一个一个修改
那这里面我们知道
这个地方用学习其实是不对的啊
呃大家可能需要把它修改一下
改成最好改成这个呃汉呃叫什么
拼音或者是英文对吧
比方说呃courses或者是learning对吧
然后变成呃
就是learning后面加一个r
表示你每次打开之后
它就自动打开这个文件夹
那么大家说你到底在说什么对吧
好像不太懂
那我们还是操作一下
然后我们这里是一个rstudio对吧
那么我们现在
假如我们又打开一个新的窗口
应该是可以
我觉得啊
应该是可以打开一个新的窗口的
电脑有点慢
就当我们已经看到一个rstudio的窗口
之后对吧
我们想打开一个新的一个rstudio窗口
你就在这个设置里面打开一个新的
那这这个时候他我们可以看到他
他是在他的这个工作目录在哪
对吧我们就刚才说的这个命令叫WD
然后我们发现
他还是在我们刚才那个路径里面
对吧
有可能他虽然说打开了这个
但是呢呃
打开了是一个新的
但他实际上
还是在原来这个project里面
然后
我们可以把这个整个project给关掉
那么关掉之后的话
我们再来查看一下
这个时候
他就已经不再是我们那个
刚才那个目录了
对吧
那我们打开两个
打开两个进行一个对比的话
一个是在我那个Onedrive里面对吧
呃
Onedrive里面也有个在各个电脑同步的
一个用来教学的一个一个文件夹
那么在这个地方的话
打开的时间是什么
我用户的一个默认的文件夹对吧
就是我的用户名
然后加上一个document
那么这个地方就是我们刚才说的
在这个全局变量里面可以改的
在这个rgeneral里面对吧
defaultworkingdirectory
你可以修改一下
但是我们一般呢可能不修改呢
他就在默认在这个用户名下面的
这个document里面OK
然后大家也可以看到
就是说
我刚才打开一个叫做upproject之后
他就自动打开了
这个project所在的一个文件夹
对吧那么这就是我们之前说
当大家去用我们的这个呃rstudio
用我们在GitHub上的这个reposter
这个仓库的时候
里面有一个叫做点rproject
结尾的这么一个文件
大家要使用这个GitHub这个
reposter最方便的方式呢
就是直接点击那个rrepository
打开rstudio
呃
比方说大家可能看就假如说在这个
呃offersize这个这个
这个文件夹里面对吧
那么在这个文件夹里面的话
有一个文件
大家可以看到
在这个就是阿富赛点
rproject它把project的后面的几个一
就是字字母给缩掉了对吧
那假如说我们现在把所有的都关掉啊
就是rstudio关掉然后
我们直接打开它的话
它就是我们的现在的这个文件夹
做工作目录
这是一个很方便的方式
大家呃
如果说你有一个固定的项目的话
你就在这个以这个文件夹
建一个upproject
是最方便的一种方式
OK
那么我们刚才讲的是在苹果下面对吧
实际上在Windows下面的话
呃路径大家经常会看得到对吧
就是你在那个文件夹的上面
看到的这个地方
然后在这个地方我们点一下它
就会显示这个完整的一个路径
在这里面稍微有一点点需要注意的呢
就是什么呢
就是呃这个斜杠的问题啊
这里大家如果在这件上显示的话
可能我们这些PPT下面
应该还有一点内容
就是说呃斜杠就是像像
顺时针方向还是逆时针方向
逆时针方向
是Windows的那个路径的方向
对吧
顺时针方向是Mac和
我们看一下前面的我
对这个地方代课
这个地方有顺时针对吧
顺时针方向
就是Mag和呃Linux都使用的
包括拍照他们都默认
这种方式
那么逆时针方向呢
就是Windows里面独特的一个
一个一个方式
那么你直接复制了Windows下面
这个路径
的时候有可能粘贴进去
那是不行的
那么你可能要通过一种
就比方说你可以通过这种
叫做normalizedpass
这种方式呢
把它这个给它
给它反就是调过来
那么另外一个
我自己使用比较多的方式呢
我就就就不要管这些东西对吧
就是说
他其实就是一个字符识别的问题
那么你不管是这个顺时针的斜杠对吧
还是逆时针的这个反斜杠
那么我们都直接就让代码来处理
怎么办呢
就是用一个here这个
这个包那么这是我我自己的
就在日常使用中的
基本上都使用这个包
比方说我们现在打开了这个
呃
打开这个project之后对吧
那么我们直接用here
可以去查看一下哦
还没安装这个包啊
呃这是用用新的电脑
演示的时候
可能有的时候就不太方便啊
我我现在就直接再先讲吧
要不然的话这个内容太多了
讲不完呃
大家可以我后面这下课间的时候
再给大家再演示演示
就是说here这个包
就是这个r的包对吧
两个冒号表示包里面的一个函数
然后
在这个里面他就会找到这个data
然后Penguin对吧
然后他会把他所有的连起来
不管你在Windows还是在苹果还是在mini
mini想
他会给你自动找到他的找到这个路径
所以你就不用去去想
就是说我如何把这个路
径写的完整和正确的这个情况了
那么一般呢
我们在写代码的时候
肯定是要手动的设定自己的这个啊
具体的路径
对吧比方说我们就用这个setWD
那么或者Windows的时候
你用这个两个这个反的斜杠对吧
那么还有一种
就是你用here这种方式对吧
还有一种方式
就是你直接用这个appleJack这种方式
我我推荐的是用appleJack这种方式去呃
设计你的工作目录
你直接点击那个appleJack
我觉得是最最方便的
然后另外的话就是Brucer这个包
它提供了一个非常好的
我们可以我们称之为半自动档对吧
就是说你直接用它这个
它的这个里面的这个是WD
然后加一个argument
叫做20个等于two对吧
就是说让你弹出一个交互窗口
让你来选择你的
你希望把哪一个工作目录
选择为哪一个
文件夹选择为你的工作目录
还有一种方式就是你自己呢去呃
直接手动的点击啊
这个也是可行的
但是我们不太推荐的
表示在r的这个呃
rStu的这个窗口里面对吧
呃这个地方有个齿轮对吧
呃表示设置的这个这个这个功能
它这里面还是有很多选项的
你就可以选择呃去比方说copy对吧
就是把你当前的这个呃
文件夹的这个目录
呃把它复制起来
或者你也可以打开对吧
呃等等等等
就是说呃
很多时候我们用代码能够做的
在rstudio呢
它现在也帮
助我们能够呃
通过点击的方式做到
当然我们的目的还是让大家能够用
用代码来写啊
那么我刚才说的就是推荐大家的做法
对吧就是把你所有的数据
代码等等放到一个工作目录之下
这样的话呢
你后面读取的时候呢
你就只用读取这个相对的路径对吧
你不用去
呃不
不需要去读取这个绝对路径
那么这有个好处呢
就是你可以随便去复制
粘贴这个文件夹
对吧然后你你在c盘底下呃
创建了这么一个工作目录
然后你所有代码
放在这个工作目录当中的时候
你都是用的相对路径
那么你把整个文件夹复制到d盘
e盘对吧
或者
复制到另外一个同学的电脑上面去
那么你点开这个文件夹
他还是可以继续读取这个相对文件的
相对路径
里面的数据不会出错
如果你写绝对路径的话
那你换一个地方对吧
这个绝对路径
这个文件夹前面的这部分就变了
前面这部分变了之后
他就找不到了
大家大概能够理解这个逻辑
OK我们前面演示了
读取数据的一个点击的版本
对吧
那么我们自己可不可以直接就是说
写代码来去解决这个问题呢
呃
很容易啊
其实也不难
就直接呃
比方说我们给它命名叫pangundia对吧
然后等于import
然后这个here
我们用的是这种方式啊就是
我们用的是这个youhear这种方式对吧
这个import
它是就是我们之前提到的一个函数
就是说呃
去读取
在这个特定的目录之下的一个文件
对吧那么我们这里实际上用的
Bruce里面的一个呃import
这个函数
那么我们前面在点击的时候
我们也看到了
在在这个rstudio里面
它自动给的一个方式是瑞的CSV
对吧瑞的CSV
然后呢
把我们那个完绝对的路径写出来
这个时候它可以通过这个函数来读取
把这个CSV
我们认为是导入到啊的这个呃
这个这个环境当中去
那么我们用的这个函数呢
是呃Brucer的这个import
为什么要用这个呢
呃因为它非常好
非常好用
就是说v的CSV
它只适合读这个呃CSV
或者类似的这种TXT的文件
比方说你用逗号分格
或者用点分格
或者用空格等等
但是对于比方说呃SPS是保存文件
或者是Excel文件等等
它呢可能会读取不了
因为瑞的CSV就是专门为了读取CSV
而开呃
开发的一个呃而创建的一个函数
那么在这个PROSr这个包里面
它就会整合了
多个读取呃文件的这种方式
它会根据你的这个文件的表示后缀啊
以及里面的一些内容
自动去识别
最适合用哪一个函数来读取这个文件
所以我们现在一般来说
推荐你心理学的同学
就用直接用这个呃
Bruise呃Bruiser的这个import
当然这个路径的话
对吧我们刚刚说的
你去写这个路径的话
最好就是用这种相对路径的写法
而且呢是
呃
避免用用here这个包可以避免这种
到底要去决定你是用两个反的斜杠
还是说一个正的斜杠
就是这种
这种
呃就是很令人头疼的这种小的细节
那么我们读取了之后呢
我们其实就可以对它进行一些基本的
一些查看对吧
然后呢
我们就可以看到他有多少行多少列
我们上面
啊就是说
呃是大家会通常使用的一个方式呃
也就是说
我们直接用
要用某一个已经加载的
这个r包里面的一个函数
我们上上节课
我们上上节课的时候
我们讲过那个r包对吧
就是说我们r里面有很多函数
那么这些函数从哪来
函数呢有一个来源就是啊
base里面提供的一些函数对吧
另外一个
就是我们各种各样的
这个啊的package啊
的包里面提供的函数
那么我们当我们要使用某一个特定的
含某一个特定的包里面的函数
是我们先要去加载它对吧
我们用library然后加上这个包的名字
然后呢就把这个函数加载出来
那么加载出来之后呢
那么理论上讲
就是所有的这个包里面的函数
我们都可以用对吧
这是我们上节课社交内容
那么当我们已经import了
或者是叫做已经加载这个Blues以后呢
Blues里面所有的函数都可以用
那么所以他的import呢
我们就可以直接这么去写对吧
但我个人啊
就是说当大家涉及到比较多的
这个阿包的使用时候
我推荐大家还是把这个阿包
的名字加到前面
不要嫌麻烦
为什么呢
因为当你写了几百行上千行代码之后
用了十几个包之后
可能这个这个函数从哪来的
你都你都找不到对吧
你可能时间长了之后你就不记得了
你可能当时写的时候非常清楚
因为你可能十十分钟之前
或者5分钟之前
刚刚从搜索引擎
或者是大约模型中问到了这个
这个函数
对吧但是可能半年之后呢
你已经不记得了
所以通过这种方式的话
你就可以知道
你的每个函数是从哪个包中过来的
你要去检查的可从性呢
是非常好的
那么读取完数据之后呢
我们这个时候
应该就可以在environment里面看到啊
我们把读取的这个这些数据对吧
负值到
或者给了这个读取这个数据
给他打了一个标签
这个标签就是我们前面的这个东西
Pangunday的
那么我们就可以看他在哪对吧
比方说我们再回到这个操作里面的话
假如说我们刚开始打开是空的对吧
什么都没有
然后呢
我们可能想要通过刚才这种方式
去读取这个数据对吧
那么考虑到
比方说我们还是用一个比较
就简单的方式来去读取它
我们还是直接import对吧
只要我们通过任何方式读取之后呢
他都会呃
它都会在这个地方出现
一个environment里面
对吧它刚才是空的
然后现在呢
出现出现那个叫data下面那个东西
然后data下面的有一个Penguinday
呃penguinalday对吧
那么我们就
相对
是把这个数据从我们的这个硬盘里面
对吧读取到了r里面
它的整个的这个过程
相当于是我们打开SPS之后
把一个Excel文件读到了这个SPS里面
对吧但它读取之后
它不像SPS
就说你看到你你所有的数据
你这个时候
你并不一定能够看到这个数据
有时候你有可能
我们如果我们用
我们仔细看一下刚才这个代码的话
它实际上是有两行对吧
第一行是首先读取了这个代码
然后第二行叫做view对吧
就是去查看这个数据
当我们自己写代码
我们直接去表面brusa
去import某一个CSV的时候
它只它只会告诉我们我们import是什么
一个数据我们能够观察到变化呢
就是右上角的这个environment
里面的变化
是在这里的变化
那么我们要查看它呢
我们必须要有两种方式
一个就是还是手动的方式
你就点一下这个地方对吧
大家可以看到鼠标放到这里的时候
它就变成一个手手心了
你点一下它就就打开了
然后另一种方式就是
当你点了之后的话
他还是会把下面这个代码显示出来
对吧就是view这个
那这就有点像我们SBS看到的对吧
呃
你在这里面看到就是每一它有多少个
然后有一些数据对吧
但这里会有一个不同
就是你可能没有办法
就我直接去点击某一个操作栏
对他进行下面的数据的操作对吧
这个时候你要进数据的操作的话
你就必须要去理解这个数据
他是如何存放在r里面的
以及r里面有哪些数据
然后你通过什么代码去操纵
去去去操纵这个数据对吧
以及对他做什么统计分析
那比方说
我们刚才在这个PPT当中显示的对吧
我们去查看
这些数据的一些基本的一些信息
比方说我们看读取之后对吧
它是不是跟我们所预期的一模一样的
有这么多行和这么多列对吧
比方说我们有1,000
我们现在看到的是有1,520呃
三个这个observation对吧
就是有1,523行
那么有247个变量
这个variables
那么这个variables在它的这个里面
实际上就相当于有247个column247列对吧
那这个就可以帮助我们去检查这个
他的呃跟我们的预期是不是一样的
比方说你搜数据的时候
你搜了100个人对吧
要是你读取出来的时候
他只有88个人
那这个时候就是哪个地方出了问题了
对不对
哎有的时候会出现这种情况的
那么我们也可以比方说
去简单的查看对吧
一些数据
那么在r里面用的很多的
这个查看数据的方法呢
就是had
就是查看这个数据的前面的几行
然后现在的rST就是
它有个比较好的一个好处
就是说当你想要去读取
某一个存在环境当中的一个变量名
的时候你输了前面几个名字
它就会自动给你股权
后面可能存在的一些变量名
然后你这个时候比方说按下Tab
它就会自动给你输入了
啊我们因
为有两两百七十多个columns
我们看这个head也没什么太大意义啊
大家看呢
对吧非常多
我们后面会告诉大家
就是说我们用一些什么呃更有效的包
去直接对这种包进行
对这种比较大的数据
进行一个快速的一个呃
呃一个探索
OK那这是我们这个最基本的一个读取
对吧
然后这个地方就是我们呃前面说的呃
你自动的去去GUI点击操作的对吧
我们刚刚已经讲过了
那么它实际上跟我们这个啊
对码啊代码基本上是呃一一对应的
那么我们读取到了这个数据以后对吧
我们接下来想要做的是什么
肯定肯定不可能读取完了就完了对吧
我们接下来肯定要对他进行一些操作
操作的话
你就要知知道
这个我们到底读取性的一个什么东西
对吧
所以这个时候你可能需要了解一点
关于r里面
如何存取数据的一些最基本的知识
那么这里面就会涉及到呃
这个数据的类型对吧
比方说我们在Excel里面的时候呃
我们处理数据的时候
我们会有一些
比方说它到底是常规的还是数字类型
还是货币对吧
还是比方说日期啊等等等等
那么在SPS里面的话
我们应该也有不同的这种数据类型
对吧到底是数字还是这个呃
大家应该有印象吧
有人呗还记得吗
因为SPS是里面有什么数据类型一般
啊
制服顺序
还有呢
什么标注
标注scale对吧
他就是对啊
然后还有
实际上这SBS是为什么大家喜欢用的
就是它跟我们心理心统计上写的
基本上都是差不多的对吧
弥散的那个
这个叫什么呀
就是连续的啊
里面他也有自己的规则
我们接下来可能会讲一下他的规则
呃先简单的休息一下
我们讲的这个很很慢啊
好那咱们就继续
在这个我们刚才说了
就是说把数据补给进去之后
我们就要对数据进行操作对吧
既然要操作这个数据的话
我们肯定要知道这个数据
它有什么样的特点
那么在哪里面的话
其实我们可能会有
我们可以说有两类
这个基本上可以分为两类对吧
一个就是最简单的
这种叫做所谓的基本的数据类型
叫做下面是它不能
它非常简单的不能再简单的对吧
就单个的东西
它不是由多个元素组成
它就只有一个元素对吧
那么这种的话它实际上就可以
我们可以就直接在这个R9里面
再进行操作
嗯
比方说你在r里面
在这个命令窗框里面对吧
你可以把r当做一个简单的计算
计算机
我不知道大家有没有呃试过对吧
你直直接在rr这个窗框里面
你进行简单的一些呃运算
比方说你可以说我们就123对吧
然后乘以呃
乘以5对吧
然后他就可以给你一个返回一个数字
那么其实这里面的123和5
他这个都是一个单格的一个元数对吧
那么它会把它识别在哪里面
它会给它识别为
一个特殊的一个数据类
型就是这个数字
那么数值类
它也有两种这个数值类型啊
一个就是包含小数点
一个是不包含小数点的啊
包含小数点它就称之为有的地方
就是其他的计
这个计算机原理把它称之为浮点数据
对吧啊
里面就是叫double
然后还有一个就整形的数据对吧
就是像12345678没有小数点的
这种叫做intergent
然后另外的话
单个的这个数字
它有可能是一个字母对吧
或者一个特殊的符号
那像这种的话
就是一般我们就是给它一个呃
在其他的计算机语言里面
可能叫string对吧
但呃字符串
那么在r里面
它这个数据类型叫做correct
然后还有逻辑值对吧
基本它是是还是否呃
在r里面
你对于这种单个元素
你其实可以查看它的这个呃
嗯数据类型的
比方说我们就用这个class对吧
这个命令你输入123对吧
还有告诉你这个1234
这个limerical
就就是我们这个数值的
这个类型的数据
那这上面是他的一个呃呃说明啊
就是说前面的对吧
像这个就是有有小数点的
他是一个double对吧
然后另外一个就是没有小数点的
还有逻辑符号
那么这是单个的元素的这个数据对吧
或者基本的数据类型
他也可以进行组合
哎这里好像
啊这里我们是说他可以查看对吧
比方说我们呃
查看这个数据的基本类型的话呃
像我们得到的用getWD对吧
就是得到的这个工作目
录它
在它在r里面是一个什么数据类型呢
啊
我们其实可以看到它是一个呃字符型
对吧
因为它其实就是一长串这个字母
然后我们对于这个刚才那个数字对吧
123它就是一个数字型的
然后比方说我们还这里可以看到
呃一对吧
你加一个引号和不加引号
他实际上在r里面
可能就是不一样的东西
它这里可它的返回是一个逻辑值啊
比方说我们在这里看一下
你输一个一个
就是引号里面有个一对吧
然后你看它是不是等于一
这个等于等于就是它俩
它俩是不是相同对吧
它这里反而是处
哎
这个
你比较说
他会直接给你强制性的转化为呃
这个数字对吧
那比方说我们10呢
哈哈
这这个地方哎
我之前还没有没有碰到过这个
因为我因为我没有去刻意的去演示
这个小小的知识点
这里面我觉得还是有点
我们下次再再找一找这个它
它里面是什么
一个转换的机制啊
但是这里大家可以
我们主要想研究其实是这个
就是说他这个判断对吧
呃你其实说我们这里的两个等号
放在一起
表示
就是说你判断他们是不是相同的
然后呢你前面加了一个呃
这个一对吧
呃就是我在这里我想表达
就是前面是一个字符串
然后后面是一个呃数字对吧
那么这两个
他居然给出了一个不一样的结果
其实呃
啊是都转换成字母串
然后再比较对吧
那我们这个得查一下这个即兴的
演示容易翻车
但是没关系
这说明一个什么问题呢
就是我的r语言也不行对吧
呃平时解决问题的时候
也是大量的靠搜索引擎的
所以大家不用怕
就是这么水的老师也可以解决问题
那我也行对吧
我们这里想演示的
实际上就是说他是一个逻辑型的
就比方说你做出一个判断之后对吧
他会给出什么
一个数和force对吧
这个就是一个所谓的逻辑型的
它是它基本上只有两种啊
然后还有
我们刚才导入的这个数据类型
对吧它是一个什么
它是一个什么
我们也可以去查看对吧
用class呃penguindata
我们发现它返回的是一个叫做dataframe
那么这个frame跟我们刚才讲的
就是说你单个
这个基本的数据类型是不一样的
对吧那就这里涉及到
就是说不同数据类型
它它组合了之后呢
就会形成r里面比较呃
比我们处理单个元素
更加复杂的一个数据结构
大家可以这么理解
就是说对于单个的这种数据元素
你可以你
如果说
你只能用这种单个数据元素的话
就相当于是而他只是一个计算机了
因为他就只能用单个的元素之间
一个相互比较和运算
对吧但是
如果没有这种更加复杂的
这个数据结构之后
我们就可以同时对很多更加呃
各种组合的这种数据
进行一个存储和运算
对吧这样的话
才能够满足
我们对于比较复杂
数据处理的一个要求
那么我们这里的在r里面
经常会碰到的
几种符合的这种数据类型呢
就是项量
矩阵啊数组
还有这个dataframe
我们刚刚看到呃
我们的这个判给data就属于是dataframe
然后还有最后一个就是列表
他们之间的关系的话
呃我们可以我们后面应该是有这个
但是我们可以先讲一下
就是说呃前面的
我们称之为Tomic对吧
就是说这种基本的数据类型
那么有前面的几个对吧
啊逻辑型
然后呃数字型
还有这个字符对吧
那么
它们都属于是这种基本的数据类型
那么我们把这个完全相同的
基本的数据类型放到一起
对吧多个元素叠加到一起
它就形成了一个Vector
就形成了一个项量
比方说我们多个这个数字对吧
我们把它放在一起
它就形成了一个呃数字的像量
我们多个这个字符放在一起
它就形成了一个呃这个字符的像量
那么我们这个很多项链
它可以通过各种其他的方式进行组合
对吧
就形成我们更加符合的这种数据结构
然后我们把有多个项链在一起的时候
它就可以形成一个Matrix啊
就是我们说的这个矩阵对吧
然后多个矩阵放到一起的时候
它就会形成一个竖组
那么大家可以看到这里面
我们的里面的每一个元素啊
我们都是用同一个颜色表示
是什么就它在数
它在数据类型上面
属于是同一个类型的
也就是说我一个victim里面对吧
一个呃项链里面
它的每一个元素
比方说第一个元素是数
值的话
那么第二个元素它也必须是数值的
它不能说是一个字符的
或者是呃
不能是字符的对吧
它可以是逻辑的
它可以强行转成一个数值的
这里面其实涉及到
就包括我们刚刚演示那个
就是呃字符的一和数字的一
它返回相等
这里面会涉及到啊
这种高级的计计算机语言
它在它内部会做一些自动化的
一些加工自动化的处理
那么有的时候这个自动化的处理呢
对你来说是有帮助的
有的时候呢
你需要去避免这种自动化处理
给你带来的问题
就是有可能他的自动化处理
并不符合你的要求
这个时候你可能需要进行一个就
就额外的需要小心一点
那么
呃我们先把这个地方
讲完
就是说这里Victor和Matrix和area对吧
它都必须是同一个数据类型的
然后呢它组成了这种不同的这个呃
比较复杂结构
之后呢
它就形成了这个呃这样的一个类型
对吧那么对于dataframe来说的话
大家可以看到
这里属于我们每一个列
使用的不同的颜色
对吧就表示说
他这里可以每一个列
可以是不同的这个数据类型
第一列他可以是名字对吧
呃不可以是这个数值对吧
第二列他可以是字符串
第三列可能是肯定是其他的
所以呢他甚至可以是
比方说里面可以包含一个其他东西
对吧所以呢
这样的话
他就给我们提供了一个很大的一个呃
一个自由度了
对吧有点相当于我们Excel对吧
这个Excel
里面就是比方说Dake
一列它完全是呃数字对吧
另一列的话
它就完全是一个不同的东西
所以这样的话
其实给我们提供了很大的一个灵处理
数据灵活度
那么历史的话
是更加灵活的一个数据类型了啊
比方说他大家可以看到
我们这里每一个元素
可以是完全不一样的东西
对吧
我们可以把整个deliverance放到里面去
这样的话组成了一个很大的一个历史
那么当我们有后面我们我们会发现
就是当我们很多模型的结果
特别是那种比较复杂的模型的结果
其实一般呢
都都是以这种历史的方式来存储的
因为这样的话
它里面可以存储各种各样的
这种很复杂的信息
也可以把我们的数据完全装进去
我们最常碰到的这个数据类型呢
我们经常要接触的呀
我们自己要经常接触的就是Davefree
应该是最多的在心理学研究当中
因为这是最符合我们的这个呃
研究的实际的需求的对吧
我们现在只碰到一种数据类型啊
就dataframe
比方说我们在这里可以看一下
它这里就是一个derefram对吧
我们刚刚查看了它这里面
比方说
我们可以查看里面的每一个行
和每一个列的一个呃
它的一个元素是什么
对吧比方说第一个它是
它是一个整数对吧
interest然后我们看后面有没有
我记得应该是有一些制服的
可能我们这里没有列出来啊
但至少我们可以比方说看到这个呃
anxiety对吧
它实际上就是不一样的一个
不一样的一个数据类型
他就是这个
完全属于是有小数点的这种呃
数据类型
当然我们这里还可以比方说呃
在我们自己处理的时候
我们可能还有背时编号对吧
背时编号
比方说我们是字母加数字的一个组合
那么这个时候的话
它就变成了一个字母串了
那当我们要处理
这个比较复杂的数据的时候
对吧我们有的时候不仅仅想说
我知道它是什么
我还要把它进行提取对吧
我们最常用的比方说问卷的话
假如说我们得到了每个条目的一个呃
分数之后
我们想要得到这个问卷的
比方说总分或者均值对吧
然后把它进行下一步的处理
这个时候就意味着
我们需要第一步
是提取出每一个问题所对应的列
对不对
然后第二个呢
是我们要对它进行一个运算对吧
所以第一个
我们首先要知道去如何把它找出来
对吧
在我们这个数据里面
数据里面我们称之为index
就是说我们去找到
这个一个复杂数据结构里面
我们想要定位的一个特殊的
我们感兴趣的一个变量
或者是一个数据对吧
基本上所有的这个数据处理的呃
编程软件
都会涉及到一个很index的问题
不管是用Python还是用这个r
还是用malelab
那么在r里面呢
我们是用这个中括号
这种方式来进行缩影的
比方说我们呃中括号
因为因为我们这个dataframe
我们现在讲的就
是对datafriend的缩影对吧
datafriend它是有行和列对吧
那么我们一个中括号里面呢
通过逗号分割两部分
前面的就是它的行的信息
后面就是它列的信息
那么我们可以直接用它的行的数字
对吧来去提取它
比方说我们可以提取出呃
这个数据里面
前面两行对吧
第1到第2行
那么列呢
我们提取第1-3列
那么这样的话
我们就提到了一个两行3列的一个呃
一个小的一个部分对吧
那么关于如何去提取
比方说你提取前面几个
提取后面几个对吧
还有呃就是说如何进index的话
大家可以后面去呃搜索
但这种呢是一个最基本的呃
一个一个一个缩影的方式
就是我们直接用行和列的这个编号
对吧然后有1到1,500多行对吧
那么我们每一行它对应的一个数字
然后你你想你你做实验时候
你感觉第100行的第100个背时
他可能会做的时候
你感觉你做主事的话
你发现他不太呃
他数据可怜
问题你想单独列提出来对吧
那么这个时候呢
你就可以把第第100个倍时
表示它的编号是它
它的行数是100行对吧
你就直接把它100行提取出来
前面写100
后面呢你就直接不写
就表示把所有的列都提出来
看它整整个数据怎么样
在哪里面
他有一个特点
就是说比方说你这个1-3你不写对吧
那他就全部都提取出来了
我们这里简单来看一下
比方说我们中括号对吧
然后我们提想提取一第100个贝
式的所有的数据对吧
那这个时候逗号之后我们就不用写了
他就会把这个数据全部打出来对吧
另外一种方式呢
我们也可以比方说呃
从利用这个
假如说我们这个数据特别大对吧
我们也不知道它有多少个列
那么这个时候
我想提出最后解决出来怎么办对吧
那我我们
因为
我不知道是不是有一个and
的这种方式啊
但是我们可以比方说用一个函数
就是我们这题的函数
就是ncall对吧
ncall就表示说呃
我们去找到这个dataframe有多少个
多少列
那么我们这里比方说可以用一个比较
我们想要提取它最后的4列对吧
那我们可以用一个函数
来去帮助我们做这个事情
比方说uncle
然后这个uncleday的对吧
那么这个时候它提取的是什么
是最后一行对吧
还有最后一列
那么我们想要提取最后5列的话
我们可以就比方说把它复制一下对吧
然后减去5
然后冒号
那就是我们
其实我们不知道他有多少列对吧
因为我们可能呃
觉得或者说我们没有太注意他对吧
我们想用一种灵活的方式
这个时候他就可以帮助我们把他
提取出来
哎
在我们只提取最后一列了
那可能是减法这个地方出了问题
啊
对
OK
这里面会有一些
就是关于这个
使用的时候的一些小的注意的细节
吧
要是刚才这个地方
就是说
你前面的要把它保证它是一个数字
的话
你必须要用一个小的括号把它括起来
对吧
要不然的话它可能就会出问题了
那么
这是一种用传统的这种方式来提取的
呃
提取某一个dataframe里面的细节的一个
我们说是最最经典的方法了
但有的时候
你其实不知道他在多少行多少列
对吧但是你知道他的其他信息
比方说呃
你知道那个背时的编号
那么背时的编号呢
他并不和
完全和他的这个行的数字是对应的
为什么呢
因为有可能你中间比方说呃
第50个第53个对吧
比方这种倍数
他后来啊就数据直接废了
然后你根本都没有输入进去对吧
可能是你都不知道
然后呢就说你的这个背时的编号
他并不是和行数完全对应的
那么你还这个时候想要去定位的话呢
你可以去通过一种挑选的方法对吧
也就是说找到比方说这个他在
他在呃行呃不
他的背式编号
等于某一个特定数值的呃
这些背式
那么这个时候呢
就涉及到一个逻辑的选择的问题了
对吧
比方说我们还是用
呃
等一下这个好像有点过于复杂了
可能用
用用
用tivers里面会筛选更容易啊
我们我们后面讲那个数据
清晰的在讲这个呃
提数据的这个
这个提取呃
因为这这里在讲的话
这个代码会特别的冗长不好看
那么比方说我们在提取列的时候
我们可以比方说直接去提取列的名字
比如说我们知道有哪些列
我们要提取出来
对吧我们刚才是用它的序号
来提
我们可以用列的名字直接来提取
这也是一种呃可以的方式
还有一个就是用这个呃
rules啊里面的一个CC啊
这个小这是一个小的这个
这个呃Tips
就是说
你每次要打很多这个名字对吧
然后每一个呢
你都需要用逗号把它分割开来
然后呢再打这个呃引号对吧
有的时候你会觉得很麻烦
那么你这样可以用一个布啥的
这个小的呃
这个这个技巧把它做一个简化
那么另外一个的话
就是美元符
美元符号这个缩影啊
这个其实是非常常见的
就是我直接
去提取出某一列的时候呢
就因为每一列都是有自己的名字的
对吧所以的话
在r里面他提供了一个特殊的方法啊
就是美元符号这个方法
那你打了这个dataframe之后
你按下美元符号
它就会自自动的
在studio里面就会跳出来
这个呃有多少个
这个columnnames对吧
你就可以去选择你想提取的
比方说我们想要提取site啊
或者你直接去打这个site对吧
然后这是你提取出的这个所有的
如果你这个时候这样回收的话
他就是非常多的这个site的名字对吧
但是你不想查看所有的
你可能就想说我
我就看前面的一些对吧
就这个时候用head
这个是可以的
那么这个有个什么好处呢
就是我们可以快速的去查看
比方说对
对某一列进行一个精确的一个呃
定位和运算
比方说呃
我想知道
比方某一个呃我
们我们这里面有anxious对吧
有焦虑的
我们想得到他的这个焦虑的一个呃
君子这个时候
我们可能就可以直接用这种方式
来求他对吧
就是我们直接用美元符号
提取这个anxious
因为比方说这个焦虑的得分
他其实是在众多的这个列里面的吧
200多列里面的
你其实也不知道他
到底他的定位是什么
你要是一个一个数的话肯定是太慢了
所以我们通过这种方式
可以快速的进行定位
大家猜这个时候会不会出错
这个也也出错了对吧
为什么因为呃
这里面又会涉及到
我们如何处理这个缺失值的问题
就说当你去呃提取某一列的时候
对他
然后对他做这个君子的运算的时候呢
他可能会要
如果说
你的这里面有一个缺失值的话
比如说像这种NA的话
那么他整个就完全都呃
把他认为当做缺失值了对吧
那么这种情况的话
我们可能就需要加一些额外的呃
还是N1R的
我们这个时候
就比方说你需要去把这些缺失值给呃
把它去掉
就相当于如果说他某一行太缺失的话
你就不把他算算入这个君子里面对吧
这样的话你就能够快速的获得君子
这也是一种我我我
个人的使用经验的话
其实应该是最常见的一种
提取呃裂的一个方式
那么还有一个
就是根据逻辑值进行筛选啊
比方说我们呃
只筛选特定的
符合某一个条件的一个啊
一些一些数据出来对吧
那么这个对于这
个实案已经变成了数据预处理的部分
就是我们需要去啊下
就是通过一个逻辑值对吧
挑选出一部分的背式
然后呢对它进行一些呃后续的处理
比方说我们在做实验的
在做这个这个实验数据处理的时候
我们通常不同的实验条件对吧
我们
可我们可能会想把不同条件的呃
这个数据
以及不同的背式的数据对吧
分开进行处理
分别比方说求他们的均值或者什么
这个时候我们就需要去呃
采用逻辑值进行缩影和筛选
那比方说我们这里面首先是第一个
就是输出一个逻辑值对吧
比方说我们让提取出这个所有的呃
年龄大于1980对吧
就是1980以后出生的人
那么我如果说我们采用这种方式
先做这么一个操作的话
他实际上会返回一串这个呃逻辑值
对吧
就是对于每一个每一个年龄对吧
1,500多个倍数年龄
它都会对应的有一个true和force
就是它到底是是不是大于1980的
如果说大于1980呢
它就会返回一个正确对吧true
然后如果说它是force呢
就会反应一个force
那么这个时候
我们根据这一串数和force呢
我们就可以把它当做一个缩眼的工具
用来提取数据
也就是说我们可以只提取那些呃这个
等于数的这些数据对吧
比方说我们这里
首先是因为这个中括号对吧
在这个中括号里面
我们前面这个代码非常长对吧
那么前面这个地地方呢
我们实际上就是在做一个判断
就是说在这个pumpingday的里面
年龄对吧
就他出生的年龄时
他的出生年月
出生年大于1980的和小于1990的对吧
就是像是81和八九之间的啊
这批人的数据
我们想把它筛选出来对吧
那么这个时候
我们是把它分别两个逻辑判断对吧
第一个是它大于80
第二个是小于90对吧
然后用一个逻辑的and一个连接
就是同时满足这两个条件的数据
那么我们就把它判断出来
然后呢
我们这个时候把它整个逻辑的这个值
放到前面了
然后把它作为挑选行的一个标准
大家中括号前面和前面是挑选行
后面挑选列对吧
下面是我们这里做了一个什么操作
就是先对先生成一个index
就是提取的一个缩影
那么这个缩影是怎么生成的呢
是根据我们年龄的一个逻辑判断
来生成的
那么这个我们把年龄这个
通过这个逻辑判断
他要么就是他必须要同时大于80
并且小于90对吧
所有符合这个年龄特征的
这个行的这个标志啊
就是比方说第一个
他可能是不在这个范围
它就变成force
第二个是to对吧
它就变成了1,5001,500个to和force
那么我们把它放在这个行这里
作为挑选的这个缩影的时候呢
它就会只把那些等于to的保留下来
等于force的就全部去掉了
这样的话
我们就按照逻辑的这个规则
就把我们感兴趣的把它挑
选出来对吧
那么挑选出来之后
我们可以看一下
我们挑选的是不是正确的
那么这个时候我们用到了一个函
一个函数
就是我们对这个挑选出来的数据
的年龄对吧
看出去看一下它的独特的这个元素
用Unik呃
呃Unik呢
它是我们在就是检查
也是非常常用的
一个非常好用的一个数据
就是说我们看一下某一个呃对象里面
对吧它可能是一行也可能是一列
它到底有多个多少个独特的元素
那么在我们这个情况之下的话
我们想要提取的就是他大于80
小于90的呃这批人对吧
他的年龄
那么我们提取完了之后
我们看提取的是不是对的
有没有
比方说大于80的小于80的被提取出来
或大于90的被提取出来对吧
我们Unik这个来查看的话就发现呢
基本上都是呃
在这个我们提取的方法之类的对吧
当然还有一个NA它也被纳入进来了
那这这也是一种提取的方式啊
那当当然
我们也可以通过多种进行组合对吧
比方说我们不仅要对年龄进行组合
我们还要对他的这个站点进行组合
对吧比方说我们也必须要
他是来自中国的倍视
那么这个时候
我们还可以在这个里面继续再加条件
对吧不仅仅是加年龄的条件
也可以加其他条件
因为组织的话
就是通过这种逻辑的判断
它会生成1,500
然后有1,500多行对吧
它就生成1,500多个true和forth
那么它根据这个true和
forth呢进行后续的数据提取
那比方说我们这里可以尝试一下
我们汲取全部在这个牛津搜索数据
对吧然后我们再用Uni来看他是不是
呃全部在牛津
比方说我们用一个
temp对吧然后
先打一个中括号对吧
然后呢一个逗号
表示
我们在前面行的这个地方进行提取
对吧
那为什么这个这个代码就会比较长
我们首先要去挑选对吧
我们用哪一行作为挑选的标准
然后我们让它等于one
等于鎏金对吧
ohso
那么这个时候我们其实就挑选出全部
就是说鎏金的全部的数据对吧
因为我们生产了一个临时变量
大家可以看到
在environment里面它又增加了一个变量
就是叫tempt
临时的一个数据对吧
然后我们可以用刚才说的
去检查一下我们提取的是不是正确的
我们在这个里面看他的这个site
用unique
那么因为我们提取全部都是这个
流行这个
这个站点对吧
他就应该只有一个
如果说他不是只有一个的话
就说明我们做错了对吧
那么这种检查
在我个人的经验当中是非常重要的
因为有的时候我们自己写两行命令
他没有报错
我们以为他做了我们想要做的事情
可能但实际上不一定
也就是说在数据分析的时候
你一定要就是说要想好
我做了这个操作对吧
他是不是做了我想做的东西
我要有一个办法能够把它检测出来
那么这个是一定要经常去去检查的
呃很容易就会出现你没有报错
但他做的东西并并不是你想要做的
所以这里面
我们刚才所所有说的这个东西
对吧那么它都是
我们叫做r里面的一个object
r里面的一个对象
那么大家可以想象
就是说我们在环境当中看到的啊
的这个environment里面看到这个对象
对吧
它实际上就是我们在临时在操纵
不断的生存
可能不断的进行变化的一个一个object
比方说我们现在因为特别像这种啊
temp对吧
我们现在临时的提取处
检查一下
我们的这个提取的方法是不是对的
那么我们可能很快的
又把temp复制为另外一个值了
对吧比方说123
那么这个时候在这个标签之下
大家可以看到
它就已经变成了另外一个内容了对吧
它变成了一个values
然后这tempt123跟刚才就不一样了
那么像所有的这些呢
它都是呃
就是临时存储这些数据对吧
这些对象
呃
还可以理理解为
我们心理学当中的一个工作记忆
对吧工作记忆的内容
但对r来说
就是r也需要这么一个工作记忆
那么在这个工作记忆里面
我们对这些对象不断的进行这个操纵
那么每一个容器呢
或者每一个每一个对象呢
他先像是一个盒子
这个盒子上有个标签对吧
但是你把什么东西扔进去
这取决于你的
你最近的这个操作是什么
比方说我们刚才做了两个操作对吧
比如第一个是attempt
纯属我
们从这个panureda里面提取出来的
属于所有Oxford数据的数据
对吧
大家可以想象
就是这个时候我们做的操作是什么
实际上就是在r的这个工作
记忆的一个叫做tent的这一个box里面
一个盒子里面
我们把所有符合条件的数据
一整个dataframe就把放进去了
那么我们接下来又做另外一个操作
就是复制给他叫123对吧
这个首先呢
是我们把原来的那个扔掉了
又重新把它扔了
放一个新的一个很简单的一个变点
就是123这个数字
那我可能我们一会又要做别的操作
那么这个变量这个盒子对吧
它的标签虽然叫做tempt
但它内容可能随时在变
所以这个时候呢
也要也是我们在后面在处理的
数数据的时候
也要注意的点
就是你的这个变量的命名要注意
他不容易犯错对吧
因为你的代码写长了之后
有可能你的这个变量就会呃
你可能不一定就是他
他中间经过的操作太多了之后
有可能他变成了一个
你不想要的一个内容
但是他又带着这个内容
可以做后续操作
也不报错
这个时候
你可能最后的结果就很奇怪了对吧
那我们今天要讲的内容
差不多就是这么多啊
很简单啊但是呢
而且而且
也没有把这个所有的知识点讲完了
因为这里面涉及到知识点非常多
那么为什么我们没有讲呢
因为感觉其实讲了之后
大家可能听听完了也
后面也有也忘记了
那么大家
只有在自己在实际的过程中
操作的时候呢
才能不断的去练习
呃我最近测试了一下
像这个大模型
他们的这个讲解非常的完善
就大家如果对啊
里面的某一个知识点
你说哎这个东西是什么
我不太了解对吧
项链是什么
我不太懂
呃你就可以直接问
在r语里面向量是什么
你给我解释一下
在r里面Matrix是什么
你给我解释下
举个例子
这样的话
大家就可能呃
更快的去了解这些细节性的知识
那么在我们课程上的话
我们主要就是以这个
数据分析的整个流程为主
OK
那么我们这节课呢
我也想提前说一下
这个大作业的事情啊
因为大作业是要尽快开始准备的
大家尽快开始准备大作业
也在这个准备大作业的过程中
不断的去去去学习
那么我们大致基本上
每次阿克都是一样的呀
一个同样的一个形式
就是说
你去找到已经发表了心理学的顶刊
这不用拍啊
这不是都有吗
大家都都request到自己
都都放给到自己电脑上
你就不用
你就晚点去看就可以了
去选一个顶盘的内容
然后呢最好是有数据的对吧
然后你去把他的数据扒下来
然后做一个数据分析
然后呢做一个展示
最后大大作
也就是说大家要做的东西
文形成文字的
或者说要写的东西啊
一个是代码
最好是用Armadan来来写
然后呢
呃
然后呢你可以比方说生成一个
如果你用这个PAPL对吧
就是我们心理
学推荐这个这个这个包的话
那么你就写mark
它最后会什么呢
就直接给你生成一个
第二个我们要交的东西就是文档
要么PDF要么是word文档对吧
那么还有一个就是第三个
就是你这个PPT
就是你最后做完了之后
你不仅仅要提交内容
你还要去展示啊
就是给大家讲
你们这个小组做了什么东西
要教的呢
是这三个内容
那么选题的范围啊
我们现在选题的范围非常广
为什么
因为越来越多的这个心理学期刊
都有开放的数据和代码
当然大家可以选择最好的
或者说一般来说是比较好的
像这个naturenation旗下的这个nature
humanbehavior和natureCommunications呃
还有比方说口碑很好的这个elite呃
在生命科学领域非常有名
当然它在呃在我们心理学里面啊
就是发的文章不太多
而且发的文章基本上都是以呃
很认知建模的为主
但是大家如果感兴趣的话
也可以去找上面的这个文章
和数据进行重复啊
更加偏
我们心理学主流的就是这个size
那么赛罗优赛是今年他们的新主编
呃这个上任之后呢
比之前的有更加严格的这个呃
可重复性和数据公开的要求
他们的公开数据和代码已经是默认的
是default就是说呃
你提交文章到science
science就默认你是要去公开你的数据的
如果你不公开的话
反而你要进行额外的说明
呃这是sciencescience
那么还有一个就是cognition
cognition的话实
际上是从2014年就开始公开数据了
还有另外就是JPgeneral呃
generalexperimentalpsychology
呃然后呢
general就是它面向各个各个各个领域的
GEP啊
这个地方打错了
还有一个新的旗刊
叫做clubpsychology
它这个也是非常支持公开的
开放科学的
还有communicationpsychology
这是那些旗下的一个新的旗刊
呃
大家可以在这个基本这些基本上去选
呃公开的数据
而且对的
就是大家去组队啊
去组队
形成自己的一个完成作业的一个小组
最多的不超过5人
最少3人
呃也就是说
大家有的人觉得自己能力很强
但是我也不推荐你去
一个人来完成这个所有的内容
有的最少你要3个人
最多5个人
不能太多
然后最后代码的要求呢
就是我们后面会学到的
就是数据的运输语
对吧你如何拿到
我们理论上讲应该是拿到原始数据啊
但实际上呢
这个呃
看你选的那个文章
他的数据的这个干净的程度
你拿到数据
可能他的原始的这个程度
可能是不一样的
有的可能是非常原始的
有的可能是非常的很干净的数据啊
那就看大家的
这个有可能有一点运气的成分啊
呃
但是不管怎么样呢
你拿到这个数据之后
最好是原始的数据啊
不是说人家都已经全部分析好了
你只用展示下结果就就可以了
那种是不行的
你拿到结果
拿到这个数据之后呢
你要对他进行预处理然后
把这个
然后描述一下这个数据
对吧就是相对基本
的一些统计的结果
然后对他的描述
进行一些基本的可视化
比方说你要去求相关
那你必须要展现一个闪点图对吧
然后如果你要去比方说求那个什么呃
分布啊或者是计算一些统计制的话
你必须要有相应的
这个原始数据的可视化
我们后面会讲到
原始数据可视化的时候
为什么它很重要
然后呢呃
你你需要去对
对这个论文中报告的结果进行检查
相对于说大家要去核对一下
你自己做的东西
跟别人做的东西是不是一样的
然后呢
我们会今年我们会有一个模板呢
晚点会藏到这个gifthub上面去
会让大家回答几个问题
首先可能是
你能不能得到
跟这个论文一模一样的结果
然后
如果你没有得到跟他一模一样的结果
到底什么原因
OK然后最后
你要去对这个结果进行可视化
也就说有可能论文中
它呈现了一个很漂亮结果
你能不能得到一个类似的
一个很漂亮的结果
达到一个类似可发表的一个程度
这个都是我们后面的课上会讲到的
但是提前把这个大队的要求
跟大家说出来呢
主要的一个原因
就是为了让大家更快的去准备
因为我们之前有同学反映
就前面的上儿课的时候
大家反映说我们组队太晚了
因为你后面你又要去找文章
又要找数据
然后清理数据对吧
你还要小组讨论
所以呢可能会他这个大作业
我们这个大作业
就是相对来说是比较耗时间一点的
我们提前
给大家说清楚这个要求
然后最后这个文档的话
可能大概是这么一个
就比较完整的一个呃
数据分析报告吧
可以这么理解
对什么什么什么的
这个呃计算可重复性研究
或者注入词的一个标题对吧
然后要把作者就是你们小组成员
然后小组的分工写清楚
然后因为你是要写一个数据分析报告
所以我们一定要强调
就是说我们做数据分析
不是为了单纯做数据分析
你要知道你为什么做这个数据分析
在前沿里面你要写清楚
然后你的复现的这个思路对吧
你是怎么去复
把这个原来他的论文中方法中报告了
这个数据分析的思路
你怎么去把它用r代码重复出来的
那么你最后复现的结果怎么样
那么你对你的这个复现的结果
这个你没有什么想法
然后还有一些对应参考文献
这个做的越规范越好啊
然后附件的话
就是对这个模板一个逐条的回答
那报告的话就是我们通常做研究的
做做做展示的一个基本的要求啊
那么基本的呃
我们这里就别的不说了
就是有个加分项
加分项的话
主要就是说看大家有没有做的特别
做的特别棒的
比方说代码的可读性
呃代码可读性
就是说
你不是说简单的把这个代码写出来了
你还要让别人知道
你这个代码在干什么
你代码一定要加注视
这个是实际上是很多初初学者
或者说很多人
刚开始是觉得没有必要的一个事情
但实际上如果你经常写代码的话
你发现
这个是绝对是非常非常非常有必要的
呃因为可能一个月之后
你就不知道
你自己当时写的什么东西了
如果说你的这个论文对吧
就你教的这个文档完全是r生成的话
不管是PPR还是其他的包生成的话
这个都是加分项
你像那是你整个
你没有去在word里面复制粘贴对吧
你就直接代码生成
这个是非常好的
然后报告的话
如果你也使用r完全生成的话
也非常好
如果说你们可以用英文
全英文展示的话
那也非常好
我们也给大家加分
这个评分的方式啊
就是展示的话
就是所有人都会参与评分啊
就是所有人都会
呃对
对其他组进行评分
我们呃我也会跟主教
也会对这个大家进行评分
然后代码和落和这个文档的部分的话
就是我和主教进行评分
啊大概就是这么这么内容啊
然后在这个这个后面
我们还有一些补充的
一些细节的知识啊
如果大家感兴趣的话
可以去读
但是我个人的一些经验
为什么在课上没有讲呢
就大家不动手
光听是没用的
大家一定要去自己动手犯错报错
然后去搜索解决方案
问问问TSGT也好
问什么大模型也好
这个时候大家才能真正的学习好
在这大队有没有问题
如果没有问题的话
那下周呃
我们就
大家就尽快把分组的这个信息
报告给我们的助教
好不好就是你你准备跟谁组队对吧
然后呢你们就开始分组
了分组之后就开始准备做这个
准备大作业
有没有问题
有问题随时问
啊今因为我们这最后补充一下
就是我们今年这学期啊
其实我们只有两节课啊
其实去年我们是有三三节课
其实有差不多一节课的时间
就是让大家在课堂上练习
然后我们助教和我进行答疑
那么但是呢
今年我们把这个部分省掉了
大家下去之后
一定要把我们这个guitar的这个拿下来
自己去练
然后自己去跑一下代码
或者去抄写一下代码
呃去去去
动手一定要动手
不动手的话你是学不会这个东西的OK
好
如果有什么问题的话在就是上
现在不问的话可以在群群里随时问啊
我们今天就到这里
谢谢大家